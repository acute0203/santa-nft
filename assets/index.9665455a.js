import{o as k,r as F,i as $,h as D,b as A,d as T,e as t,w as b,v as w,n as f,t as _,j as I,f as p,k as J,l as E,F as j,m as S,a as q,p as M,u as G,q as R,s as z,x as V}from"./index.c0b87fb4.js";const N="/assets/ttl_form.139373a0.png",H=t("section",{class:"page-head"},[t("h2",{class:"page-head__ttl"},[t("img",{src:N,class:"page-head__ttl--form",alt:"\u304A\u7533\u3057\u8FBC\u307F\u30D5\u30A9\u30FC\u30E0"})])],-1),K={class:"page-form"},Q={class:"page-container"},X={class:"form-box"},Y=t("p",{class:"form-box__confirm"},[p("\u3054\u5165\u529B\u5F8C\u3001\u6B21\u3078\u9032\u3080\u30DC\u30BF\u30F3\u3092"),t("br",{class:"sp"}),p("\u62BC\u3057\u3066\u304F\u3060\u3055\u3044\u3002")],-1),Z={class:"form-list"},W=t("dt",{class:"form-list__head"},[t("p",{class:"form-list__head--ttl"},"\u304A\u540D\u524D(Dear\u306E\u5F8C\u306B\u5165\u308B\uFF1A\u25EF\u25EF\u25EF\u3061\u3083\u3093\u3001\u25EF\u25EF\u25EF\u304F\u3093\u306A\u3069)"),t("p",{class:"form-list__head--note"},"\u203B\u5FC5\u305A\u656C\u79F0\u307E\u3067\u3054\u5165\u529B\u304A\u9858\u3044\u3057\u307E\u3059\uFF1A20\u6587\u5B57\u307E\u3067\u3002")],-1),tt={class:"form-list__input"},et={class:"form-list"},st=t("dt",{class:"form-list__head"},[t("p",{class:"form-list__head--ttl"},"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9")],-1),at={class:"form-list__input"},ot={class:"form-list"},nt=t("dt",{class:"form-list__head"},[t("p",{class:"form-list__head--ttl"},"\u304A\u624B\u7D19\u306E\u8A00\u8A9E")],-1),it={class:"form-list__input"},lt=t("option",{value:"JP"},"\u65E5\u672C\u8A9E",-1),rt=t("option",{value:"EN"},"\u82F1\u8A9E",-1),ct=[lt,rt],dt={class:"form-list"},mt={class:"form-list__head"},_t=t("p",{class:"form-list__head--ttl"},"\u30A6\u30A9\u30EC\u30C3\u30C8\u30A2\u30C9\u30EC\u30B9",-1),ft={class:"form-list__head--repletion"},pt={class:"form-list__input"},ht={class:"form-list"},ut=S('<dt class="form-list__head"><p class="form-list__head--ttl">\u8FFD\u52A0\u6587\u7AE0(\u4EFB\u610F)</p><p class="form-list__head--repletion">\u203B\u53D7\u3051\u53D6\u308B\u65B9\u3078\u306E\u304A\u597D\u304D\u306A\u30E1\u30C3\u30BB\u30FC\u30B8\u304C60\u6587\u5B57\u307E\u3067\u6587\u672B\u306B\u8FFD\u52A0\u3067\u5165\u308C\u3089\u308C\u307E\u3059\u3002</p><p class="form-list__head--repletion">\u203B\u6539\u884C\u3001\u7D75\u6587\u5B57\u3001\u7279\u6B8A\u8A18\u53F7\u306F\u4EE5\u4E0B\u3092\u9664\u304D\u4F7F\u7528\u3067\u304D\u307E\u305B\u3093\u3002</p><p class="form-list__head--repletion">\u203B\u5229\u7528\u3067\u304D\u308B\u8A18\u53F7\u30FB\u7D75\u6587\u5B57(\u534A\u89D2\u306E\u307F)\u300C\u266A\u2606\u2605\u2661\uFF01\uFF1F\u25CE\u25CB\u25CF\u25BD\u25BC\u25B3\u25B2\u25A1\u25A0\u25C7\u25C6\u300D</p></dt>',1),gt={class:"form-list__input"},vt={__name:"LetterForm",props:{form:{type:Object,default:()=>({name:"",email:"",lang:"",nftCode:"",additionalArticles:""})}},setup(n){const o=n;k(()=>{const s=document.querySelector("main");s.classList.remove(...s.classList),s.classList.add("page-wrap","howto-bg")});const c={name:{isinvalid:!1,message:""},email:{isinvalid:!1,message:""},lang:{isinvalid:!1,message:""},nftCode:{isinvalid:!1,message:""},additionalArticles:{isinvalid:!1,message:""}},e=F({...c}),y=$("handleChangeComponent"),{handleGetUploadNFTUri:r}=$("api"),d=()=>{let s=!1;e.name.isinvalid=!1,e.email.isinvalid=!1,e.additionalArticles.isinvalid=!1,e.nftCode.isinvalid=!1;let a=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,l=/^0x[0-9a-fA-F]{40}$/;return Object.assign(e,c),o.form.name==""?(s=!0,e.name.isinvalid=!0,e.name.message="\u30E1\u30C3\u30BB\u30FC\u30B8\u3092\u53D7\u3051\u53D6\u308B\u65B9\u306E\u304A\u540D\u524D\u3092\u5165\u529B\u3057\u3066\u4E0B\u3055\u3044\u3002"):o.form.name.length>20&&(s=!0,e.name.isinvalid=!0,e.name.message="20\u6587\u5B57\u4EE5\u5185\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"),o.form.email==""?(s=!0,e.email.isinvalid=!0,e.email.message="\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"):o.form.email.match(a)||(s=!0,e.email.isinvalid=!0,e.email.message="\u6B63\u3057\u304F\u306A\u3044\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9\u3067\u3059\u3002"),!o.form.additionalArticles==""&&o.form.additionalArticles.length>=61&&(s=!0,e.additionalArticles.isinvalid=!0,e.additionalArticles.message="\u30E1\u30C3\u30BB\u30FC\u30B8\u306F60\u6587\u5B57\u4EE5\u5185\u3067\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"),o.form.nftCode==""?(s=!0,e.nftCode.isinvalid=!0,e.nftCode.message="\u30A6\u30A9\u30EC\u30C3\u30C8\u30A2\u30C9\u30EC\u30B9\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044\u3002"):o.form.nftCode.match(l)||(s=!0,e.nftCode.isinvalid=!0,e.nftCode.message="\u30A6\u30A9\u30EC\u30C3\u30C8\u30A2\u30C9\u30EC\u30B9\u304C\u6B63\u3057\u304F\u3042\u308A\u307E\u305B\u3093\u3002"),s},m=async()=>{if(d())return;await r()&&y("letterFormConfirm")};return(s,a)=>{const l=D("router-link");return A(),T(j,null,[H,t("section",K,[t("div",Q,[t("form",X,[Y,t("dl",Z,[W,t("dd",tt,[b(t("input",{type:"text",class:f({"is-invalid":e.name.isinvalid}),id:"name",placeholder:"\u25EF\u25EF\u25EF\u3061\u3083\u3093",autocomplete:"off","onUpdate:modelValue":a[0]||(a[0]=i=>n.form.name=i)},null,2),[[w,n.form.name]]),t("div",{class:f(e.name.isinvalid===!0?"error-msg":"error-msg is-hidden")},_(e.name.message),3)])]),t("dl",et,[st,t("dd",at,[b(t("input",{type:"email",class:f({"is-invalid":e.email.isinvalid}),id:"email",placeholder:"abcd@email.com",autocomplete:"off","onUpdate:modelValue":a[1]||(a[1]=i=>n.form.email=i)},null,2),[[w,n.form.email]]),t("div",{class:f(e.email.isinvalid===!0?"error-msg":"error-msg is-hidden")},_(e.email.message),3)])]),t("dl",ot,[nt,t("dd",it,[b(t("select",{"onUpdate:modelValue":a[2]||(a[2]=i=>n.form.lang=i)},ct,512),[[I,n.form.lang]])])]),t("dl",dt,[t("dt",mt,[_t,t("p",ft,[p(" \u203B\u30A6\u30A9\u30EC\u30C3\u30C8\u306E\u30A4\u30F3\u30B9\u30C8\u30FC\u30EB\u65B9\u6CD5\u306F"),J(l,{to:{name:"Howto"}},{default:E(()=>[p("\u3053\u3061\u3089")]),_:1})])]),t("dd",pt,[b(t("input",{type:"text",class:f({"is-invalid":e.nftCode.isinvalid}),id:"nftCode",placeholder:"\u8A18\u5165\u4F8B\uFF1A0xf9els:OF2390fkhbsPc22kld8ruefh",autocomplete:"off","onUpdate:modelValue":a[3]||(a[3]=i=>n.form.nftCode=i)},null,2),[[w,n.form.nftCode]]),t("div",{class:f(e.nftCode.isinvalid===!0?"error-msg":"error-msg is-hidden")},_(e.nftCode.message),3)])]),t("dl",ht,[ut,t("dd",gt,[b(t("textarea",{class:f({"is-invalid":e.additionalArticles.isinvalid}),id:"additionalArticles",placeholder:"\u8A18\u5165\u4F8B\uFF1A\u3059\u3066\u304D\u306A\u30AF\u30EA\u30B9\u30DE\u30B9\u306B\u306A\u308B\u3068\u3044\u3044\u306D\u3002\u307E\u305F\u4F1A\u3048\u308B\u65E5\u306E\u3053\u3068\u3092\u697D\u3057\u307F\u306B\u3057\u3066\u3044\u308B\u3088\u3002",autocomplete:"off","onUpdate:modelValue":a[4]||(a[4]=i=>n.form.additionalArticles=i)},null,2),[[w,n.form.additionalArticles]]),t("div",{class:f(e.additionalArticles.isinvalid===!0?"error-msg":"error-msg is-hidden")},_(e.additionalArticles.message),3)])]),t("div",{class:"form-box__btn"},[t("button",{class:"form-box__btn--submit",type:"button",onClick:m}," \u6B21\u3078\u9032\u3080 ")])])])])],64)}}},bt="/assets/preview.9165a34a.jpg",yt=t("section",{class:"page-head"},[t("h2",{class:"page-head__ttl"},[t("img",{src:N,class:"page-head__ttl--form",alt:"\u304A\u7533\u3057\u8FBC\u307F\u30D5\u30A9\u30FC\u30E0"})])],-1),Ct={class:"page-form"},xt={class:"page-container"},wt={class:"form-box confirm-box"},$t=t("p",{class:"form-box__confirm"},[p("\u4EE5\u4E0B\u306E\u5185\u5BB9\u3067"),t("br",{class:"sp"}),p("\u6C7A\u5B9A\u3057\u3066\u3088\u308D\u3057\u3044\u3067\u3059\u304B\uFF1F")],-1),At={class:"form-list"},Tt=t("dt",{class:"form-list__head"},[t("p",{class:"form-list__head--ttl"},"\u304A\u540D\u524D(Dear\u306E\u5F8C\u306B\u5165\u308B\uFF1A\u25EF\u25EF\u25EF\u3061\u3083\u3093\u3001\u25EF\u25EF\u25EF\u304F\u3093\u306A\u3069)"),t("p",{class:"form-list__head--note"},"\u203B\u5FC5\u305A\u656C\u79F0\u307E\u3067\u3054\u5165\u529B\u304A\u9858\u3044\u3057\u307E\u3059\uFF1A20\u6587\u5B57\u307E\u3067\u3002")],-1),kt={class:"form-list__input"},Ft={class:"form-list"},St=t("dt",{class:"form-list__head"},[t("p",{class:"form-list__head--ttl"},"\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9")],-1),Nt={class:"form-list__input"},Lt={class:"form-list"},Ut=t("dt",{class:"form-list__head"},[t("p",{class:"form-list__head--ttl"},"\u304A\u624B\u7D19\u306E\u8A00\u8A9E")],-1),Vt={class:"form-list__input form-list__input--lang"},jt={class:"form-list"},qt=t("dt",{class:"form-list__head"},[t("p",{class:"form-list__head--ttl"},"\u30A6\u30A9\u30EC\u30C3\u30C8\u30A2\u30C9\u30EC\u30B9")],-1),Pt={class:"form-list__input--small"},Bt={key:0,class:"form-list"},Ot=S('<dt class="form-list__head"><p class="form-list__head--ttl">\u8FFD\u52A0\u6587\u7AE0(\u4EFB\u610F)</p><p class="form-list__head--repletion">\u203B\u53D7\u3051\u53D6\u308B\u65B9\u3078\u306E\u304A\u597D\u304D\u306A\u30E1\u30C3\u30BB\u30FC\u30B8\u304C60\u6587\u5B57\u307E\u3067\u6587\u672B\u306B\u8FFD\u52A0\u3067\u5165\u308C\u3089\u308C\u307E\u3059\u3002</p><p class="form-list__head--repletion">\u203B\u6539\u884C\u3001\u7D75\u6587\u5B57\u3001\u7279\u6B8A\u8A18\u53F7\u306F\u4EE5\u4E0B\u3092\u9664\u304D\u4F7F\u7528\u3067\u304D\u307E\u305B\u3093\u3002</p><p class="form-list__head--repletion">\u203B\u5229\u7528\u3067\u304D\u308B\u8A18\u53F7\u30FB\u7D75\u6587\u5B57(\u534A\u89D2\u306E\u307F)\u300C\u266A\u2606\u2605\u2661\uFF01\uFF1F\u25CE\u25CB\u25CF\u25BD\u25BC\u25B3\u25B2\u25A1\u25A0\u25C7\u25C6\u300D</p></dt>',1),Dt={class:"form-list__input--small"},It=t("div",{class:"form-box__preview"},[t("div",{id:"canvas-parent",class:"canvas-parent"},[t("canvas",{id:"canvas",height:"821",width:"581"})])],-1),Jt=t("p",{class:"preview-note"},"\u203B\u5199\u771F\u306F\u30A4\u30E1\u30FC\u30B8\u3067\u3059\u3002\u5B9F\u969B\u5C4A\u304F\u753B\u50CF\u3068\u6587\u5B57\u306E\u5927\u304D\u3055\u306A\u3069\u9055\u3046\u5834\u5408\u304C\u3042\u308A\u307E\u3059\u3002",-1),Et={class:"form-box__btn"},Mt={__name:"LetterFormConfirm",props:{form:{type:Object,default:()=>({name:"",email:"",lang:"",nftCode:"",additionalArticles:""})}},setup(n){const o=n,c=$("handleChangeComponent"),{uploadPreviewPicToNFTS3:e}=$("api");k(()=>{const r=document.querySelector("main");r.classList.remove(...r.classList),r.classList.add("page-wrap","howto-bg")}),q(()=>{function r(d,m,s){var a=document.getElementById("canvas"),l=a.getContext("2d"),i=new Image;i.src=d,i.onload=function(){l.drawImage(i,0,0),l.lineWidth=1,l.font="bold 24px sans-serif",l.fillText(m,80,100);const P=90,B=480;l.font="14px sans-serif",L(l,s,P,B,25,350);function L(u,h,C,x,U,g){if(g=g||0,g<=0){u.fillText(h,C,x);return}for(let v=1;v<=h.length;v++){const O=h.substr(0,v);if(u.measureText(O).width>g){u.fillText(h.substr(0,v-1),C,x),L(u,h.substr(v-1),C,x+U,U,g);return}}u.fillText(h,C,x)}}}r(bt,o.form.name,o.form.additionalArticles)});const y=async()=>{const d=document.getElementById("canvas").toDataURL("image/png"),m=atob(d.split(",")[1]),s=[];for(let i=0;i<m.length;i++)s.push(m.charCodeAt(i));const a=new Blob([new Uint8Array(s)],{type:"image/png"});await e(a)&&c("thx")};return(r,d)=>(A(),T(j,null,[yt,t("section",Ct,[t("div",xt,[t("form",wt,[$t,t("dl",At,[Tt,t("dd",kt,_(n.form.name),1)]),t("dl",Ft,[St,t("dd",Nt,_(n.form.email),1)]),t("dl",Lt,[Ut,t("dd",Vt,_(n.form.lang=="JP"?"\u65E5\u672C\u8A9E":"\u82F1\u8A9E"),1)]),t("dl",jt,[qt,t("dd",Pt,_(n.form.nftCode),1)]),n.form.additionalArticles.length>0?(A(),T("dl",Bt,[Ot,t("dd",Dt,_(n.form.additionalArticles),1)])):M("",!0),It,Jt,t("div",Et,[t("button",{class:"form-box__btn--back",type:"button",onClick:d[0]||(d[0]=m=>G(c)("letterForm"))}," \u524D\u3078\u623B\u308B "),t("button",{class:"form-box__btn--submit",type:"button",onClick:y}," \u6C7A\u5B9A\u3059\u308B ")])])])])],64))}},Gt="/assets/thanks_img01.e0f6ff00.png",Rt=S('<section class="page-head"><h2 class="page-head__ttl"><img src="'+N+'" class="page-head__ttl--form" alt="\u304A\u7533\u3057\u8FBC\u307F\u30D5\u30A9\u30FC\u30E0"></h2></section><section class="page-form"><div class="page-container"><div class="thanks-box"><h3 class="thanks-box__ttl">\u304A\u7533\u3057\u8FBC\u307F\u627F\u308A\u307E\u3057\u305F\u3002</h3><p class="thanks-box__txt"> \u3053\u306E\u305F\u3073\u306F\u3001\u30B5\u30F3\u30BF\u30AF\u30ED\u30FC\u30B9NFT\u30EC\u30BF\u30FC\u306E\u304A\u7533\u3057\u8FBC\u307F\u3092\u3044\u305F\u3060\u304D\u3042\u308A\u304C\u3068\u3046\u3054\u3056\u3044\u307E\u3059\u3002<br> \u304A\u7533\u3057\u8FBC\u307F\u3044\u305F\u3060\u3044\u305F\u30B5\u30F3\u30BF\u30AF\u30ED\u30FC\u30B9NFT\u30EC\u30BF\u30FC\u306F\u30B5\u30F3\u30BF\u30AF\u30ED\u30FC\u30B9\u306E\u6545\u90F7\u3001\u30D5\u30A3\u30F3\u30E9\u30F3\u30C9\u30FB\u65E7\u30E9\u30C3\u30D7\u30E9\u30F3\u30C9\u5DDE\u516C\u8A8D\u306ENFT\u30EC\u30BF\u30FC\u3067\u3059\u3002<br> 12/25 0:00\u306B\u3054\u6307\u5B9A\u306E\u30D6\u30ED\u30C3\u30AF\u30C1\u30A7\u30FC\u30F3\u30A2\u30C9\u30EC\u30B9\u306B\u9001\u4FE1\u3044\u305F\u3057\u307E\u3059\u3002 </p><p class="thanks-box__txt">\u3054\u4E0D\u660E\u306A\u70B9\u7B49\u304C\u3054\u3056\u3044\u307E\u3057\u305F\u3089\u3001 <a href="mailto:info@santa-nft.com">info@santa-nft.com</a>\u307E\u3067\u3054\u9060\u616E\u306A\u304F\u3054\u76F8\u8AC7\u304F\u3060\u3055\u3044\u3002</p><p class="thanks-box__txt">\u305D\u308C\u3067\u306F\u3001\u5F53\u65E5\u307E\u3067\u3001\u3069\u3046\u305E\u697D\u3057\u307F\u306B\u304A\u5F85\u3061\u304F\u3060\u3055\u3044\u307E\u305B\u3002</p><div class="thanks-box__img"><img src="'+Gt+'" alt="\u304A\u7533\u3057\u8FBC\u307F\u627F\u308A\u307E\u3057\u305F\u3002"></div></div></div></section>',2),zt={__name:"Thx",setup(n){return k(()=>{const o=document.querySelector("main");o.classList.remove(...o.classList),o.classList.add("page-wrap","howto-bg")}),(o,c)=>Rt}},Ht={class:"maintenance"},Kt=t("div",{class:"maintenance-box"},[t("div",{class:"maintenance-box__text"},[t("p",null,"\u65E5\u9803\u3088\u308A\u5F53\u30B5\u30A4\u30C8\u3092\u3054\u5229\u7528\u3044\u305F\u3060\u304D\u3001\u8AA0\u306B\u3042\u308A\u304C\u3068\u3046\u3054\u3056\u3044\u307E\u3059\u3002"),t("p",null,"\u73FE\u5728\u30B7\u30B9\u30C6\u30E0\u30E1\u30F3\u30C6\u30CA\u30F3\u30B9\u306E\u305F\u3081\u3001\u3053\u3061\u3089\u306E\u30DA\u30FC\u30B8\u306F\u3054\u5229\u7528\u3044\u305F\u3060\u3051\u307E\u305B\u3093\u3002\u4E0D\u4FBF\u3092\u304A\u639B\u3051\u3044\u305F\u3057\u307E\u3059\u304C\u3001\u3054\u7406\u89E3\u3044\u305F\u3060\u304D\u307E\u3059\u3088\u3046\u304A\u9858\u3044\u7533\u3057\u4E0A\u3052\u307E\u3059\u3002"),t("p",null,[p("\u304A\u554F\u3044\u5408\u308F\u305B\u5148\uFF1A "),t("a",{href:"mailto:info@santa-nft.com"},"info@santa-nft.com")])])],-1),Qt=[Kt],Yt={__name:"index",setup(n){k(()=>{const s=document.querySelector("main");s.classList.remove(...s.classList),s.classList.add("page-wrap","howto-bg")}),q(()=>{const s="\u304A\u7533\u3057\u8FBC\u307F | \u30B5\u30F3\u30BF\u30AF\u30ED\u30FC\u30B9\u304B\u3089\u306ENFT",a="\u30B5\u30F3\u30BF\u30AF\u30ED\u30FC\u30B9\u306E\u6545\u90F7\u3001\u30D5\u30A3\u30F3\u30E9\u30F3\u30C9\u30FB\u65E7\u30E9\u30C3\u30D7\u30E9\u30F3\u30C9\u5DDE\u516C\u8A8D\u306ENFT\u30EC\u30BF\u30FC\u3092\u30AF\u30EA\u30B9\u30DE\u30B9\u307E\u3067\u306B\u304A\u5C4A\u3051\u3044\u305F\u3057\u307E\u3059\u3002",l="https://santa-nft.com/application",i="article";document.querySelector("link[rel='canonical']").setAttribute("href",l),document.title=s,document.querySelector("meta[name='description']").setAttribute("content",a),document.querySelector("meta[property='og:title']").setAttribute("content",s),document.querySelector("meta[property='og:description']").setAttribute("content",a),document.querySelector("meta[property='og:type']").setAttribute("content",i),document.querySelector("meta[property='og:url']").setAttribute("content",l)});const o=F({name:"",email:"",lang:"JP",nftCode:"",additionalArticles:""}),c=F({}),e=R("letterForm");z(()=>{switch(e.value){case"letterFormConfirm":return Mt;case"thx":return zt;default:return vt}}),V("handleChangeComponent",s=>{e.value=s,document.body.scrollTop=0,document.documentElement.scrollTop=0});const r=async()=>{try{const a=await(await fetch(`https://api.diver-rpc.com/dev/santa_nft/create_presign_upload_url?address=${o.nftCode}`)).json();return Object.assign(c,a),!0}catch(s){return console.error(s),!1}},d=async s=>{try{return(await fetch(`${c.presigned_url}`,{method:"PUT",headers:{"Content-Type":"multipart/form-data"},body:s})).ok?await m():!1}catch(a){return console.error(a),!1}},m=async()=>{let s={address:o.nftCode,s3_key:c.key,email:o.email,name:o.name,language:o.lang,content:o.additionalArticles};try{const l=await(await fetch("https://api.diver-rpc.com/dev/santa_nft/create",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(s)})).json();return!0}catch(a){return console.error(a),!1}};return V("api",{handleGetUploadNFTUri:r,uploadPreviewPicToNFTS3:d}),(s,a)=>(A(),T("section",Ht,Qt))}};export{Yt as default};
